{% load i18n model_tools %}
<div class="actions">
  {% block actions %}
    {% block actions-form %}
    {% for field in form %}{% if field.label %}<label>{{ field.label }} {{ field }}</label>{% else %}{{ field }}{% endif %}{% endfor %}
    {% endblock %}
    {% block actions-submit %}
    <button type="submit" class="button" title="{% translate "Run the selected action" %}">{% translate "Go" %}</button>
    {% endblock %}
    {% block actions-counter %}
    {% if actions_selection_counter %}
      {% with meta=model|meta %}
        <span class="action-counter" data-actions-icnt="{{ result_list|length }}">
          {% blocktranslate with selected as selection_list|length with page_total as result_list|length %}
            {{ selected }} of {{ page_total }} {{ meta.verbose_name_plural }} selected
          {% endblocktranslate %}
        </span>
        {% if result_count != result_list|length %}
        <span class="all hidden">
          {% blocktranslate with result_count as total_count %}
            All {{ total_count }} selected
          {% endblocktranslate %}
        </span>
        <span class="question hidden">
          <a href="#" title="{% translate "Click here to select the objects across all pages" %}">
            {% blocktranslate with result_count as total_count %}
              Select all {{ total_count }} {{ meta.verbose_name_plural }}
            {% endblocktranslate %}
          </a>
        </span>
        <span class="clear hidden"><a href="#">{% translate "Clear selection" %}</a></span>
        {% endif %}
      {% endwith %}
    {% endif %}
    {% endblock %}
  {% endblock %}
</div>
